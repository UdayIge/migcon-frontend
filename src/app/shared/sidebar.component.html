<aside class="hidden md:flex md:flex-col md:w-64 bg-gray-50 border-r p-4 h-full">
  <div class="mb-6 text-base font-bold">Logo</div>
  <nav class="flex flex-col justify-between flex-1">
    <div class="flex flex-col gap-3">
  <a routerLink="/dashboard" routerLinkActive="active" #rlaDash="routerLinkActive" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300" [style.backgroundColor]="rlaDash.isActive ? '#E5E7EB' : null">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><path d="M3 10.5L12 4l9 6.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V10.5z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Dashboard</span>
      </a>

  <a routerLink="/devices" routerLinkActive="active" #rlaDevices="routerLinkActive" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300" [style.backgroundColor]="rlaDevices.isActive ? '#E5E7EB' : null">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><rect x="3" y="7" width="18" height="10" rx="2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M7 7V5a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Devices</span>
      </a>

  <a routerLink="/groups" routerLinkActive="active" #rlaGroups="routerLinkActive" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300" [style.backgroundColor]="rlaGroups.isActive ? '#E5E7EB' : null">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><path d="M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="7" r="4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Groups</span>
      </a>

  <a routerLink="/alarms" routerLinkActive="active" #rlaAlarms="routerLinkActive" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300" [style.backgroundColor]="rlaAlarms.isActive ? '#E5E7EB' : null">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><path d="M18 8a6 6 0 10-12 0c0 7-3 8-3 8h18s-3-1-3-8" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M13.73 21a2 2 0 0 1-3.46 0" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Alarms</span>
      </a>

  <a routerLink="/reports" routerLinkActive="active" #rlaReports="routerLinkActive" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300" [style.backgroundColor]="rlaReports.isActive ? '#E5E7EB' : null">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><path d="M3 3v18h18" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 11l-6 6-4-4-6 6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Reports</span>
      </a>

  <a routerLink="/settings" routerLinkActive="active" #rlaSettings="routerLinkActive" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300" [style.backgroundColor]="rlaSettings.isActive ? '#E5E7EB' : null">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06A2 2 0 0 1 2.3 17.9l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09c.7 0 1.26-.4 1.51-1a1.65 1.65 0 0 0-.33-1.82L4.3 6.3A2 2 0 0 1 7.13 3.47l.06.06c.5.5 1.02.93 1.51 1 0 0 .05 0 .05 0H12" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Settings</span>
      </a>
    </div>
    <div class="flex border border-gray-200 rounded-4xl hover:bg-gray-100">
      <a routerLink="/profile" class="flex items-center gap-3 px-3 py-2 rounded-full">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            class="w-6 h-6 text-gray-800"
          >
            <circle
              cx="12"
              cy="9"
              r="3"
              stroke="currentColor"
              stroke-width="1.5"
            />
            <path
              d="M17.9691 20C17.81 17.1085 16.9247 15 11.9999 15C7.07521 15 6.18991 17.1085 6.03076 20"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
            />
            <path
              d="M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
            />
          </svg>
        <span>Profile</span>
      </a>
    </div>
  </nav>
</aside>

<!-- Mobile overlay sidebar -->
<ng-container *ngIf="(sidebarSvc.open$ | async)">
  <div class="fixed inset-0 z-40 md:hidden">
    <div class="absolute inset-0 bg-black opacity-30" (click)="sidebarSvc.close()"></div>
    <div class="absolute left-0 top-0 bottom-0 w-64 bg-white shadow-lg p-4">
      <div class="flex items-center justify-between mb-4">
        <div class="font-bold">Logo</div>
        <button class="p-2 rounded" (click)="sidebarSvc.close()" aria-label="Close sidebar">
          <!-- X icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>
      <nav class="flex flex-col gap-3">
  <a routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><path d="M3 10.5L12 4l9 6.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V10.5z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Dashboard</span>
      </a>

  <a routerLink="/devices" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><rect x="3" y="7" width="18" height="10" rx="2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M7 7V5a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Devices</span>
      </a>

  <a routerLink="/groups" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><path d="M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="7" r="4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Groups</span>
      </a>

  <a routerLink="/alarms" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><path d="M18 8a6 6 0 10-12 0c0 7-3 8-3 8h18s-3-1-3-8" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M13.73 21a2 2 0 0 1-3.46 0" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Alarms</span>
      </a>

  <a routerLink="/reports" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><path d="M3 3v18h18" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 11l-6 6-4-4-6 6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Reports</span>
      </a>

  <a routerLink="/settings" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}" class="flex items-center gap-3 px-3 py-2 rounded-full hover:bg-gray-100 transition-colors duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 text-gray-800" aria-hidden="true"><path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06A2 2 0 0 1 2.3 17.9l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09c.7 0 1.26-.4 1.51-1a1.65 1.65 0 0 0-.33-1.82L4.3 6.3A2 2 0 0 1 7.13 3.47l.06.06c.5.5 1.02.93 1.51 1 0 0 .05 0 .05 0H12" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Settings</span>
      </a>

      <a routerLink="/profile" class="flex items-center gap-3 px-3 py-2 rounded-full border border-gray-100">        <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            class="w-6 h-6 text-gray-800"
          >
            <circle
              cx="12"
              cy="9"
              r="3"
              stroke="currentColor"
              stroke-width="1.5"
            />
            <path
              d="M17.9691 20C17.81 17.1085 16.9247 15 11.9999 15C7.07521 15 6.18991 17.1085 6.03076 20"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
            />
            <path
              d="M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
            />
          </svg>
        <span>Profile</span>
      </a>
      
      </nav>
    </div>
  </div>
</ng-container>
